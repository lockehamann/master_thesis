%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

\documentclass[master]{thuthesis}
% \documentclass[%
%   bachelor|master|doctor|postdoctor, % mandatory option
%   winfonts|nofonts|adobefonts, % mandatory only for bachelor and Linuxer
%   secret,
%   openany|openright,
%   arialtoc,arialtitle]{thuthesis}
% 当使用 XeLaTeX 编译时，本科生、Linux 用户需要加上 nofonts 选项；
% 当使用 PDFLaTeX 编译时，adobefonts 选项等效于 winfonts 选项(缺省选项)。

% 所有其它可能用到的包都统一放到这里了，可以根据自己的实际添加或者删除。
\usepackage[
addfootnotetoref
]{thutils}

\usepackage[xetex,hyperref]{xcolor}

\usepackage{tikz}
\usetikzlibrary{arrows.new}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{datavisualization}


\usepackage[linesnumbered,boxed,algochapter,vlined]{algorithm2e}
\renewcommand\algorithmautorefname{算法}
\renewcommand{\algorithmcfname}{算法}
\makeatletter
\def\setlabelname#1{\def\@currentlabelname{#1}}
\makeatother

\usepackage{url}
\def\UrlBreaks{\do\/\do\.\do\-\do\#}
%\def\UrlBreaks{\do\A\do\B\do\C\do\D\do\E\do\F\do\G\do\H\do\I\do\J%
%\do\K\do\L\do\M\do\N\do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V%
%\do\W\do\X\do\Y\do\Z\do\[\do\\\do\]\do\^\do\_\do\`\do\a\do\b%
%\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j\do\k\do\l\do\m\do\n%
%\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w\do\x\do\y\do\z%
%\do\.\do\@\do\\\do\/\do\!\do\_\do\|\do\;\do\>\do\]\do\)\do\,%
%\do\?\do\'\do+\do\=\do\#}

\usepackage{rotating}
\def\pdfrotate{\special{pdf: put @thispage <</Rotate 90>>}}

\usepackage{multirow}

\usepackage{answers}
\newenvironment{datasheetenv}[1]{}{}
\Newassociation{datasheet}{datasheetenv}{datasheetfile}

\usepackage{placeins}

\usepackage{multicol}

\newcommand{\TODO}{ \textcolor{blue}{TODO} }
\colorlet{BLUE}{blue}

%--------------------------------------------------------------------------
% 自定义函数

%bracket系列
\newcommand{\bracket}[4]
{\ensuremath{%
\ifthenelse{\equal{#1}{n}}{#3 #2 #4}{}%
\ifthenelse{\equal{#1}{b}}{\bigl#3 #2 \bigr#4}{}%
\ifthenelse{\equal{#1}{B}}{\Bigl#3 #2 \Bigr#4}{}%
\ifthenelse{\equal{#1}{bg}}{\biggl#3 #2 \biggr#4}{}%
\ifthenelse{\equal{#1}{Bg}}{\Biggl#3 #2 \Biggr#4}{}%
}}

\newcommand{\pbracket}[2]{\bracket{#1}{#2}{(}{)}}
\newcommand{\Sbracket}[2]{\bracket{#1}{#2}{[}{]}}
\newcommand{\Bbracket}[2]{\bracket{#1}{#2}{\lbrace}{\rbrace}}
\newcommand{\vbracket}[2]{\bracket{#1}{#2}{|}{|}}

\newcommand{\getsize}[2]
{%
\ifthenelse{\equal{#1}{n}}{#2}{}%
\ifthenelse{\equal{#1}{b}}{\big#2}{}%
\ifthenelse{\equal{#1}{B}}{\Big#2}{}%
\ifthenelse{\equal{#1}{bg}}{\bigg#2}{}%
\ifthenelse{\equal{#1}{Bg}}{\Bigg#2}{}%
}

\newcommand{\pb}[2][n]{\pbracket{#1}{#2}}
\newcommand{\Sb}[2][n]{\Sbracket{#1}{#2}}
\newcommand{\Bb}[2][n]{\Bbracket{#1}{#2}}
\newcommand{\vb}[2][n]{\vbracket{#1}{#2}}

\newcommand{\diff}[1]{\mathrm{d}#1}

\usepackage{datetime}
\newdateformat{mydate}{\THEYEAR-\twodigit{\THEMONTH}-\twodigit{\THEDAY}}
\newtimeformat{mytime}{\twodigit{\THEHOUR}:\twodigit{\THEMINUTE}}
\settimeformat{mytime}

\usepackage[draft=true,allpages=true]{draftmark}
\draftmarksetup{angle=0,grayness=0.5,xcoord=50,ycoord=-137,fontsize=12pt,
mark={DRAFT \mydate\today\hspace{5pt} \currenttime}}

%只显示三层目录
\setcounter{tocdepth}{2}

\begin{document}

% 定义所有的eps文件在 figures 子目录下
\graphicspath{{figures/}}


%%% 封面部分
\frontmatter
\input{data/cover}
%\makecover

% 目录
\tableofcontents

% 符号对照表
%\input{data/denotation}

\Opensolutionfile{datasheetfile}
%%% 正文部分
\mainmatter
\chapter{引言}
\section{研究背景}
\section{国内外研究现状}
\section{研究内容和论文组织结构}

\include{data/gpu}

\include{data/program}

\include{data/equsolve}


\include{data/testresults}

\chapter{结论与展望}

\Closesolutionfile{datasheetfile}

%%% 其它部分
\backmatter



% 参考文献
\bibliographystyle{thubib}
\bibliography{ref/refs}


% 致谢
%\include{data/ack}

% 附录
\begin{appendix}

\chapter{原始数据表}

\input{datasheetfile}

\iffalse

程序性能结果应使用几何平均数。\cite{fleming1986not}

\chapter{课题程序使用说明}
\section{运行环境}
\section{输入文件格式}
\subsection{Lua语法简介}

Lua是一种快速、轻量级的嵌入式脚本语言，
在1993年由巴西里约热内卢天主教大学（Pontifical Catholic University of Rio de Janeiro）
计算机图形技术组（Computer Graphics Technology Group）的成员
Roberto Ierusalimschy、 Luiz Henrique de Figueiredo和 Waldemar Celes所开发。

Lua很容易嵌入到其他程序中作为内嵌的解释器使用，已在PC游戏界广泛使用。
当前版本5.2.2，基于MIT开源协议开源，
可从 \url{http://www.lua.org/download.html}获得。

LuaJIT是Lua语言的非官方JIT(Just-In-Time Compiler)实现，由Mike Pall开发。
LuaJIT基于MIT开源协议开源，当前版本LuaJIT 2.0.1，可以从\url{luajit.org/download.html}获取。
LuaJIT是当前世界上最快的动态语言实现之一。\cite{LuaJITHomepage}

\TODO

\section{输出文件格式}
\subsection{HDF5简介}

HDF5是一种分层的、带有元数据的、支持多种数据格式的、针对科学计算的数据文件存储格式及相关技术。
它最早由美国国家超级计算应用中心（NCSA， 
National Center for Supercomputing Applications）提出，
现在由非营利的HDF Group管理和维护。

HDF5文件格式的读写库基于一种类似于BSD的协议开源，协议文本可以从
\url{http://www.hdfgroup.org/HDF5/doc/Copyright.html} 获取。

当前版本为HDF5 1.8.10 patch1，
可从\url{http://www.hdfgroup.org/downloads/index.html} 获取。

\TODO 使用简介

\subsection{Python简介}
\subsection{后处理脚本示例}
\section{编译说明}

\fi

%\include{data/program_io}
\end{appendix}

% 个人简历
%\include{data/resume}
\end{document}
